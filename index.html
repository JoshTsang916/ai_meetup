<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 小聚結束問卷</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font for better readability */
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 to-black min-h-screen flex items-center justify-center p-4">
    <div class="bg-gray-800 p-8 rounded-xl shadow-2xl w-full max-w-2xl border border-gray-700">
        <h1 class="text-3xl font-bold text-gray-100 mb-6 text-center">AI 小聚結束問卷</h1>
        <p class="text-gray-300 mb-8 text-center">感謝您參與本次 AI 小聚！請花幾分鐘填寫此問卷，您的寶貴意見將幫助我們未來舉辦更好的活動。</p>

        <form id="aiMeetupSurveyForm" class="space-y-6">
            <!-- 1. 姓名或暱稱 -->
            <div>
                <label for="name" class="block text-gray-200 text-sm font-bold mb-2">
                    1. 姓名或暱稱
                </label>
                <input type="text" id="name" name="name"
                       class="shadow appearance-none bg-gray-700 border border-gray-600 rounded-md w-full py-2 px-3 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400"
                       placeholder="Ex. Josh" required>
            </div>

            <!-- 2. Email -->
            <div>
                <label for="email" class="block text-gray-200 text-sm font-bold mb-2">
                    2. Email
                </label>
                <input type="email" id="email" name="email"
                       class="shadow appearance-none bg-gray-700 border border-gray-600 rounded-md w-full py-2 px-3 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400"
                       placeholder="Ex. Josh@gmail.com" required>
            </div>

            <!-- 3. 對這次的AI小聚有什麼建議 -->
            <div>
                <label for="suggestions" class="block text-gray-200 text-sm font-bold mb-2">
                    3. 對這次的 AI 小聚有什麼建議？
                </label>
                <textarea id="suggestions" name="suggestions" rows="4"
                          class="shadow appearance-none bg-gray-700 border border-gray-600 rounded-md w-full py-2 px-3 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400"
                          placeholder="Ex. 希望可以更多討論時間"></textarea>
            </div>

            <!-- 4. 未來對於AI會想要深入瞭解什麼 -->
            <div>
                <label for="futureInterests" class="block text-gray-200 text-sm font-bold mb-2">
                    4. 未來對於 AI 會想要深入瞭解什麼？
                </label>
                <textarea id="futureInterests" name="futureInterests" rows="4"
                          class="shadow appearance-none bg-gray-700 border border-gray-600 rounded-md w-full py-2 px-3 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400"
                          placeholder="Ex. n8n 自動化工作流"></textarea>
            </div>

            <!-- 5. 還有沒有什麼想要說的呢 -->
            <div>
                <label for="additionalComments" class="block text-gray-200 text-sm font-bold mb-2">
                    5. 還有沒有什麼想要說的呢？
                </label>
                <textarea id="additionalComments" name="additionalComments" rows="4"
                          class="shadow appearance-none bg-gray-700 border border-gray-600 rounded-md w-full py-2 px-3 text-white leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400"
                          placeholder="Ex. 感謝主辦單位，收穫良多！"></textarea>
            </div>

            <button type="submit"
                    class="w-full bg-blue-700 hover:bg-blue-800 text-white font-bold py-3 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 focus:ring-offset-gray-800 transition duration-300 ease-in-out">
                提交問卷
            </button>

            <!-- Submission Status Message -->
            <div id="message" class="mt-4 text-center text-sm font-medium"></div>
        </form>
    </div>

    <script>
        // 在這裡填入您的 n8n Webhook 連結
        const webhookUrl = 'https://rajatsang.app.n8n.cloud/webhook/b4f117db-8347-4e94-bf8b-4b277273adda'; // <-- 請將此處替換為您的 n8n Webhook URL

        document.getElementById('aiMeetupSurveyForm').addEventListener('submit', async function(event) {
            event.preventDefault(); // 阻止表單預設提交行為

            const messageDiv = document.getElementById('message');
            messageDiv.textContent = '正在提交中...';
            messageDiv.className = 'mt-4 text-center text-sm font-medium text-gray-400'; // 提交中文字顏色

            if (webhookUrl === 'YOUR_N8N_WEBHOOK_URL_HERE' || !webhookUrl) {
                messageDiv.textContent = '請在程式碼中填寫 n8n Webhook 連結！';
                messageDiv.className = 'mt-4 text-center text-sm font-medium text-red-400'; // 錯誤文字顏色
                return;
            }

            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                suggestions: document.getElementById('suggestions').value,
                futureInterests: document.getElementById('futureInterests').value,
                additionalComments: document.getElementById('additionalComments').value
            };

            try {
                const response = await fetch(webhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });

                if (response.ok) {
                    messageDiv.textContent = '問卷提交成功！感謝您的回饋。';
                    messageDiv.className = 'mt-4 text-center text-sm font-medium text-green-400'; // 成功文字顏色
                    // 提交成功後清除表單內容 (可選)
                    this.reset();
                } else {
                    const errorText = await response.text();
                    messageDiv.textContent = `提交失敗：${response.status} ${response.statusText}. ${errorText}`;
                    messageDiv.className = 'mt-4 text-center text-sm font-medium text-red-400'; // 錯誤文字顏色
                }
            } catch (error) {
                messageDiv.textContent = `提交時發生錯誤：${error.message}`;
                messageDiv.className = 'mt-4 text-center text-sm font-medium text-red-400'; // 錯誤文字顏色
            }
        });
    </script>
</body>
</html>
